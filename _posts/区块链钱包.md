
---
layout:     post
title:      "区块链钱包"
subtitle:   ""
date:       2018-07-19
author:     "Scott"
header-img: "img/post-bg-unix-linux.jpg"
tags:
- 区块链
- 钱包
---

## 比特币的地址生成过程: (私钥 -> 公钥 -> 地址)
> <font size=3>整个过程是不可逆的, 私钥是最关键的部分, 私钥泄露也就意味着丢失了一切。</font>

### 1. 随机生成一个合法的私钥
私钥为256位0b的随机数, 用16进制表示这个数的范围大小是介于0x0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0001 ~ 0xFFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFE BAAE DCE6 AF48 A03B BFD2 5E8C D036 4141之间的一个数。表示为:
```objc
8F72F6B29E6E225A36B68DFE333C7CE5E55D83249D3D2CD6332671FA445C4DD3
```

### 2. 椭圆曲线算公钥
生成私钥后, 使用椭圆曲线加密算法(ECDSA-secp256k1) 计算私钥所对应的非压缩公钥, 生成的公钥共65字节, 130位16进制表示为:
```objc
0406CCAE7536386DA2C5ADD428B099C7658814CA837F94FADE365D0EC6B1519385FF83EC5F2C0C8F016A32134589F7B9E97ACBFEFD2EF12A91FA622B38A1449EEB
```

### 3. 对公钥哈希计算
对上面的公钥进行 [SHA_256] 哈希计算, 得到:
```objc
2572e5f4a8e77ddf5bb35b9e61c61f66455a4a24bcfd6cb190a8e8ff48fc097d
```

### 4. 计算 [RIPEMD-160] 哈希值
取上一步结果，进行 [RIPEMD-160] 计算，得到结果:
```objc
0b14f003d63ab31aef5fedde2b504699547dd1f6
```

### 5. 加入地址版本号
比特币主网版本号“0x00”,取上一步结果，在前面加上16进制的0x，即:
```objc
0x0b14f003d63ab31aef5fedde2b504699547dd1f6
```

### 6. 计算 [SHA-256] 哈希值
取上一步结果, 进行 [SHA-256] 计算, 可得:
```objc
ddc2270f93cc84cc6869dd373f3c340bbf5cb9a8f5559297cc9e5d947aab2536
```
然后, 对以上结果再次计算 [SHA-256] 哈希值, 得到:
```objc
869ac57b83ccf75ca9da8895823562fffb611e3c297d9c2d4612aeeb32850078
```

### 7. 比特币地址的16进制形态
取上一步结果的前4个字节(869ac57b), 将这4个字节加载第五步的结果前面，得到比特币地址的16进制形态:
```objc
869ac57b000b14f003d63ab31aef5fedde2b504699547dd1f6
```

### 8. 用 [Base58] 编码变换地址
对上一步的结果进行 [Base58] 编码, 得到:
```objc
1QCXRuoxWo5Bya9NxHaVBArBQYhatHJrU7
```

## 相关概念

### ***Keystore***
Keystore不是私钥，常见于以太坊钱包，一般你创建以太坊钱包后，会让你备份Keystore, 它是一串代码，你可以自己保存为文本或者json格式，日后都可以用任何以太坊钱包打开它。</br>
<font color=red>Keystore的本质是加密后的私钥, Keystore必须配合你的钱包密码来使用。所以备份了 Keystore后不要忘记钱包密码</font>

### ***助记词***
助记词是把私钥的64位16进制通过某个算法转换成一系列的单词(可以是英文 法文 中文甚至是你会的方言) 它最早是由 BIP39提案产生的 , 可以是12个, 15个, 18个, 21个, 24个特定的单词。这些单词有一个统一的、固定的词库, 并不是凭空而来。比如我们熟悉的imToken 创建钱包生成的助记词个数是12个。</br>
<font color=red>用户可以将助记词理解为私钥另一种表现形式, 即拥有助记词, 就相当于掌握了该钱包的使用权, 无需密码，即你创建钱包输入的密码也是不需要的。</font>

### ***冷钱包***
冷钱包是指网络不能访问到你私钥的钱包, 冷钱包往往依靠“冷”设备确保比特币私钥的安全，比如不联网的电脑、手机、写着私钥地址的小本本等。冷钱包避免了被黑客盗取私钥的风险，但是可能面临物理安全风险，比如电脑硬盘损坏、小本本被当做厕纸使用等等。

### ***热钱包***
热钱包是指互联网能够访问你私钥的钱包。热钱包往往是在线钱包的形式。使用热钱包时，最好在不同平台设置不同密码，且开启二次认证，以确保自己的资产安全。

### ***脑钱包***
